{{- $scratch := newScratch -}}
{{- range where . ".Params.type" "pencil" -}}
  {{- if .Params.key -}}
    {{- $scratch.Add "total" (or .Params.pencilCount 1) -}}
  {{- end -}}
{{- end -}}
{{- return $scratch.Get "total"  -}}